import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import {
  AppBar,
  Box,
  Heading,
  Toolbar,
  ThemeProvider,
  ThemeSwitch,
} from '../../src'
import { Background, Overview } from '../util'
import { ThemeSwitchDocs } from './ThemeSwitchDocs'

<Meta title="Components/ThemeSwitch" component={ThemeSwitch} />

# ThemeSwitch

The `ThemeSwitch` provides a styled button to switch between `light` and `dark` themes.
It is available in two different variants `commit` and `celestial`, and the icons colors can be customized
by selecting from the palette. Note that the palette will be relative to the current theme.

<Canvas>
  <Story name="switch">
    <ThemeProvider>
      <AppBar position="relative">
        <Toolbar>
          <Box flexGrow={1}>
            <Heading.h1>Example</Heading.h1>
          </Box>
          <ThemeSwitch />
          <ThemeSwitch variant="commit" />
          <ThemeSwitch
            variant="celestial"
            lightColor="common.white"
            darkColor="common.black"
          />
        </Toolbar>
      </AppBar>
      <Background width="1VH">
        <Overview />
      </Background>
    </ThemeProvider>
  </Story>
</Canvas>

You don't have to use the `ThemeSwitch` to switch the theme, you can make your own.

## `useThemeController` Hook

As a further convenience, we supply a `useThemeController` hook to simplify the use of responding to the theme choice
or to toggle the theme, say to make a custom theme switch.

This defaults to using the `prefers-color-scheme: dark` media query to automatically switch to
dark according to uses preferences. If the user has selected a particular mode then local storage is used to _remember_ that choice.
It supplies the current `themeChoice` a `toggleTheme` function to use in a control and a `componentMounted` flag to state the component has determined the correct start theme.
The above story demonstrates its use.

You don't have to use the `ThemeSwitch` to switch the theme, you can make your own.

## Props

<ArgsTable of={ThemeSwitchDocs} />
