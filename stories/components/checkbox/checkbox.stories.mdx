import { useState } from 'react'
import { action } from '@storybook/addon-actions'
import {
  Checkbox,
  Flex,
  Text,
  Icons,
  colors,
  FormControl,
  FormControlLabel,
  FormLabel,
  FormGroup,
} from '../../../src'
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks'
import { CheckboxDocs } from './CheckboxDocs'

<Meta title="components|Checkbox" component={Checkbox} />

# Checkbox

Extends [Material UI Checkbox](https://material-ui.com/components/checkboxes/).

Checkboxes can be used as toggle actions or as part of input forms.
Use when single select/deselect option, use radio when one option of more then two choices; [further info](https://www.nngroup.com/articles/checkboxes-vs-radio-buttons/).

<Preview>
  <Story name="default">
    <Checkbox color="default" onChange={action('checked')} />
  </Story>
  <Story name="checked">
    <Checkbox
      checked={true}
      color="default"
      onChange={action('checked')}
      value="checkedA"
      inputProps={{
        'aria-label': 'checkbox',
      }}
    />
  </Story>
  <Story name="primary checked">
    <Checkbox
      checked={false}
      color="primary"
      inputProps={{
        'aria-label': 'primary checkbox',
      }}
    />
  </Story>
  <Story name="uncontrolled checked">
    <Checkbox
      inputProps={{
        'aria-label': 'uncontrolled-checkbox',
      }}
    />
  </Story>
  <Story name="disabled">
    <Checkbox
      disabled={true}
      inputProps={{
        'aria-label': 'disabled checkbox',
      }}
    />
  </Story>
  <Story name="disabled checked">
    <Checkbox
      disabled={true}
      checked={true}
      inputProps={{
        'aria-label': 'disabled checked checkbox',
      }}
    />
  </Story>
  <Story name="indeterminate">
    <Checkbox
      indeterminate={true}
      inputProps={{
        'aria-label': 'indeterminate checkbox',
      }}
    />
  </Story>
  <Story name="default">
    <Checkbox
      defaultChecked={true}
      color="default"
      inputProps={{
        'aria-label': 'checkbox with default color',
      }}
    />
  </Story>
  <Story name="custom icon">
    <Checkbox
      style={{ color: 'red' }}
      icon={<Icons.FavoriteBorder />}
      checkedIcon={<Icons.Favorite />}
    />
  </Story>
  <Story name="custom colors">
    <Checkbox
      icon={<Icons.BookmarkBorder style={{ color: colors.grey[600] }} />}
      checkedIcon={<Icons.Bookmark style={{ color: colors.lightBlue[400] }} />}
    />
  </Story>
</Preview>

Example with state

<Preview>
  <Story name="with state">
    {React.createElement(() => {
      const [checked, setChecked] = useState(false)
      const click = action('clicked')
      return (
        <Flex>
          <Checkbox
            checked={checked}
            color="default"
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
          <Checkbox
            checked={checked}
            color="primary"
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
          <Checkbox
            checked={checked}
            color="secondary"
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
          <Checkbox
            checked={checked}
            disabled
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
          <Checkbox
            checked={checked}
            color="primary"
            disabled
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
          <Checkbox
            checked={checked}
            color="secondary"
            disabled
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
        </Flex>
      )
    })}
  </Story>
</Preview>

## With Labels

To add labels to checkboxes, say in forms, you should use a FormControlLabel

<Preview>
  <Story name="labels">
    <FormControl component="fieldset">
      <FormLabel component="legend">labelPlacement</FormLabel>
      <FormGroup aria-label="position" name="position" row>
        <FormControlLabel
          value="top"
          control={<Checkbox color="primary" />}
          label="Top"
          labelPlacement="top"
        />
        <FormControlLabel
          value="start"
          control={<Checkbox color="primary" />}
          label="Start"
          labelPlacement="start"
        />
        <FormControlLabel
          value="bottom"
          control={<Checkbox color="primary" />}
          label="Bottom"
          labelPlacement="bottom"
        />
        <FormControlLabel
          value="end"
          control={<Checkbox color="primary" />}
          label="End"
          labelPlacement="end"
        />
      </FormGroup>
    </FormControl>
  </Story>
</Preview>

## Start and End

In some usecases it's better to make flush with the start of the end of the box.

<Preview>
  <Story name="start">
    {React.createElement(() => {
      const [checked, setChecked] = useState(false)
      const click = action('clicked')
      return (
        <Flex>
          <Checkbox
            checked={checked}
            color="primary"
            edge="start"
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
        </Flex>
      )
    })}
  </Story>
  <Story name="end">
    {React.createElement(() => {
      const [checked, setChecked] = useState(false)
      const click = action('clicked')
      return (
        <Flex>
          <Checkbox
            checked={checked}
            color="primary"
            edge="end"
            onChange={(event) => {
              click(event.target.checked)
              setChecked(event.target.checked)
            }}
          />
        </Flex>
      )
    })}
  </Story>
</Preview>

# Props

Supports standard html aria and event props `div` props, [Spacing and Flexbox props](/components/?path=/docs/design-system-positioning--page).

## Main props

<Props of={CheckboxDocs} />
