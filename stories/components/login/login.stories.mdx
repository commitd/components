import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import { Box } from '../../../src'
import { Login } from './Login'

<Meta title="Candidates/Login" component={Login} />

# Login

A login form following [best practices](web.dev/sign-in-form-best-practices/#checklist).

It uses built in browser validation of emails and passwords with `type="email"` and `type="password"`.

The sign in button is disabled while sign in is taking place to prevent accidental multiple login attempts.

The form is mobile friendly. `type=email` is used to bring up the correct keyboard.

The typed in password can viewed with the show password button to make sign in easier.

Accessibility is considered. `aria-label` and `aria-describedby` is used for password inputs.

<Canvas>
  <Story name="default">
    <Box p={3} bgcolor="background.paper">
      <Login
        onChangeEmail={() => {}}
        onChangePassword={() => {}}
        email="jsmith"
        password="password"
        onSignIn={() => {}}
      />
    </Box>
  </Story>
</Canvas>

The `passwordRules` optionally displays the password rules for easier sign in.

<Canvas>
  <Story name="password rules">
    <Box p={3} bgcolor="background.paper">
      <Login
        onChangeEmail={() => {}}
        onChangePassword={() => {}}
        email="jsmith@committed.io"
        password="password"
        onSignIn={() => {}}
        passwordRules="8 or more characters with one letter and symbol"
      />
    </Box>
  </Story>
</Canvas>

The `errorMessage` can be used to display errors related to sign in.

<Canvas>
  <Story name="error">
    <Box p={3} bgcolor="background.paper">
      <Login
        onChangeEmail={() => {}}
        onChangePassword={() => {}}
        email="jsmith@committed.io"
        password="password"
        onSignIn={() => {}}
        errorMessage="Account is disabled or does not exist"
      />
    </Box>
  </Story>
</Canvas>

## Props

<ArgsTable of={Login} />
