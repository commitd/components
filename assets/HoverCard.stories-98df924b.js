import{a as s,j as $}from"./jsx-runtime-03b4ddbf.js";import{$ as ce,s as q,a as k,c as se,f as ie,d as de}from"./component-92c13614.js";import{_ as x}from"./extends-98964cd2.js";import{r}from"./index-76fb7be0.js";import{$ as le,a as l}from"./index-45a327ec.js";import{a as fe}from"./index-421204d3.js";import{$ as J,a as pe,b as me,c as ue,d as he}from"./index-01bbf444.js";import{$ as $e}from"./index-251d008c.js";import{$ as Q}from"./index-c6da0816.js";import{$ as Ce}from"./index-77dbc890.js";import{$ as be}from"./index-296a96c6.js";import{o as ve}from"./Overlay-1ca05ff0.js";import{p as ge}from"./Paper-e773ea24.js";import{C as xe}from"./ConditionalWrapper-8865b2c1.js";import{d as X,b as Y,a as Z}from"./Card-bb787615.js";import{L as D}from"./Link-72161c25.js";import{T as ee}from"./Text-561f173c.js";import"./_commonjsHelpers-de833af9.js";import"./index-add592e3.js";import"./index-1a2315aa.js";let P;const re="HoverCard",[te,ir]=fe(re,[J]),y=J(),[we,T]=te(re),He=e=>{const{__scopeHoverCard:n,children:a,open:t,defaultOpen:o,onOpenChange:i,openDelay:f=700,closeDelay:h=300}=e,d=y(n),b=r.useRef(0),p=r.useRef(0),H=r.useRef(!1),m=r.useRef(!1),[S=!1,c]=le({prop:t,defaultProp:o,onChange:i}),u=r.useCallback(()=>{clearTimeout(p.current),b.current=window.setTimeout(()=>c(!0),f)},[f,c]),L=r.useCallback(()=>{clearTimeout(b.current),!H.current&&!m.current&&(p.current=window.setTimeout(()=>c(!1),h))},[h,c]),ae=r.useCallback(()=>c(!1),[c]);return r.useEffect(()=>()=>{clearTimeout(b.current),clearTimeout(p.current)},[]),r.createElement(we,{scope:n,open:S,onOpenChange:c,onOpen:u,onClose:L,onDismiss:ae,hasSelectionRef:H,isPointerDownOnContentRef:m},r.createElement(pe,d,a))},Se="HoverCardTrigger",_e=r.forwardRef((e,n)=>{const{__scopeHoverCard:a,...t}=e,o=T(Se,a),i=y(a);return r.createElement(me,x({asChild:!0},i),r.createElement(Ce.a,x({"data-state":o.open?"open":"closed"},t,{ref:n,onPointerEnter:l(e.onPointerEnter,E(o.onOpen)),onPointerLeave:l(e.onPointerLeave,E(o.onClose)),onFocus:l(e.onFocus,o.onOpen),onBlur:l(e.onBlur,o.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})))}),oe="HoverCardPortal",[Ee,ye]=te(oe,{forceMount:void 0}),Te=e=>{const{__scopeHoverCard:n,forceMount:a,children:t,container:o}=e,i=T(oe,n);return r.createElement(Ee,{scope:n,forceMount:a},r.createElement(Q,{present:a||i.open},r.createElement($e,{asChild:!0,container:o},t)))},R="HoverCardContent",Oe=r.forwardRef((e,n)=>{const a=ye(R,e.__scopeHoverCard),{forceMount:t=a.forceMount,...o}=e,i=T(R,e.__scopeHoverCard);return r.createElement(Q,{present:t||i.open},r.createElement(Pe,x({"data-state":i.open?"open":"closed"},o,{onPointerEnter:l(e.onPointerEnter,E(i.onOpen)),onPointerLeave:l(e.onPointerLeave,E(i.onClose)),ref:n})))}),Pe=r.forwardRef((e,n)=>{const{__scopeHoverCard:a,onEscapeKeyDown:t,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:f,...h}=e,d=T(R,a),b=y(a),p=r.useRef(null),H=ce(n,p),[m,S]=r.useState(!1);return r.useEffect(()=>{if(m){const c=document.body;return P=c.style.userSelect||c.style.webkitUserSelect,c.style.userSelect="none",c.style.webkitUserSelect="none",()=>{c.style.userSelect=P,c.style.webkitUserSelect=P}}},[m]),r.useEffect(()=>{if(p.current){const c=()=>{S(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var u;((u=document.getSelection())===null||u===void 0?void 0:u.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",c),()=>{document.removeEventListener("pointerup",c),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),r.useEffect(()=>{p.current&&ke(p.current).forEach(u=>u.setAttribute("tabindex","-1"))}),r.createElement(be,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:t,onPointerDownOutside:o,onFocusOutside:l(i,c=>{c.preventDefault()}),onDismiss:d.onDismiss},r.createElement(ue,x({},b,h,{onPointerDown:l(h.onPointerDown,c=>{c.currentTarget.contains(c.target)&&S(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:H,style:{...h.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})))}),Re=r.forwardRef((e,n)=>{const{__scopeHoverCard:a,...t}=e,o=y(a);return r.createElement(he,x({},o,t,{ref:n}))});function E(e){return n=>n.pointerType==="touch"?void 0:e()}function ke(e){const n=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;a.nextNode();)n.push(a.currentNode);return n}const De=He,Le=_e,Ne=Te,Ie=Oe,Ae=Re;var ne=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const Me=q(k(Ie,"c-hover-card-content",ge,se({borderRadius:"$default",width:"$11",md:{width:"$12"},lg:{width:"$13"},display:"flex",flexDirection:"column",gap:"$2",_before:{boxShadow:"none"},filter:"drop-shadow(0px 3px 2.5px rgba(0,0,0,0.2)) drop-shadow(0px 6px 5px rgba(0,0,0,0.14)) drop-shadow(0px 1px 9px rgba(0,0,0,0.12))"}),ve)),Fe=q(k(Ae,"c-hover-card-arrow"),{variants:{fill:{clear:{fill:"token(colors.$surface.clear)"},frost:{fill:"token(colors.$surface.frost)"},neutral:{fill:"token(colors.$surface.neutral)"},glass:{fill:"token(colors.$surface.glass)",backdropFilter:"saturate(80%) blur(5px)"},solid:{fill:"token(colors.$surface.solid)"}}}}),w=ie((e,n)=>{var{portalled:a=!0,container:t,surface:o,children:i}=e,f=ne(e,["portalled","container","surface","children"]);return s(xe,{condition:a,props:{container:t},wrapper:Ne,children:$(Me,Object.assign({surface:o},f,{ref:n,children:[s(Fe,{fill:o,offset:-1}),i]}))})});w.displayName="HoverCardContent";const We="c-hover-card-trigger",C=r.forwardRef((e,n)=>{var{children:a,className:t}=e,o=ne(e,["children","className"]);return s(Le,Object.assign({className:de(We,t),asChild:!0},o,{ref:n,children:a}))});C.displayName="HoverCardTrigger";const O=k(De,"c-hover-card");C.__docgenInfo={description:"",methods:[],displayName:"HoverCardTrigger"};const je=""+new URL("committed_io-a36b8700.png",import.meta.url).href,dr={title:"Components/HoverCard",component:O,subcomponents:{HoverCardTrigger:C,HoverCardContent:w}},_=e=>$(O,{...e,children:[s(C,{children:s(D,{href:"https://committed.io",target:"_blank",children:"Committed Website"})}),s(w,{children:s("img",{src:je})})]}),v=()=>$(O,{children:[s(C,{children:s(D,{href:"https://committed.io",target:"_blank",children:"Committed Website"})}),$(w,{surface:"solid",children:[s(X,{children:"https://committed.io"}),s(Y,{asChild:!0,children:s("h3",{children:"Committed Software"})}),s(Z,{children:s(ee,{children:"Bespoke software company specializing in integrating the best of breed open source technologies to allow rapid development and minimal duplication of effort."})})]})]}),g=()=>$(O,{children:[s(C,{children:s(D,{href:"https://committed.io",target:"_blank",children:"Committed Website"})}),$(w,{surface:"glass",children:[s(X,{children:"https://committed.io"}),s(Y,{asChild:!0,children:s("h3",{children:"Committed Software"})}),s(Z,{children:s(ee,{children:"Bespoke software company specializing in integrating the best of breed open source technologies to allow rapid development and minimal duplication of effort."})})]})]});var N,I,A;_.parameters={..._.parameters,docs:{...(N=_.parameters)==null?void 0:N.docs,source:{originalSource:`args => <HoverCard {...args}>
    <HoverCardTrigger>
      <Link href="https://committed.io" target="_blank">
        Committed Website
      </Link>
    </HoverCardTrigger>
    <HoverCardContent>
      <img src={image} />
    </HoverCardContent>
  </HoverCard>`,...(A=(I=_.parameters)==null?void 0:I.docs)==null?void 0:A.source}}};var M,F,W,j,B;v.parameters={...v.parameters,docs:{...(M=v.parameters)==null?void 0:M.docs,source:{originalSource:`() => <HoverCard>
    <HoverCardTrigger>
      <Link href="https://committed.io" target="_blank">
        Committed Website
      </Link>
    </HoverCardTrigger>
    <HoverCardContent surface="solid">
      <CardLeadIn>https://committed.io</CardLeadIn>
      <CardHeading asChild>
        <h3>Committed Software</h3>
      </CardHeading>
      <CardContent>
        <Text>
          Bespoke software company specializing in integrating the best of breed
          open source technologies to allow rapid development and minimal
          duplication of effort.
        </Text>
      </CardContent>
    </HoverCardContent>
  </HoverCard>`,...(W=(F=v.parameters)==null?void 0:F.docs)==null?void 0:W.source},description:{story:"The HoverCard content can be a preview like the main example or show further information.",...(B=(j=v.parameters)==null?void 0:j.docs)==null?void 0:B.description}}};var U,z,G,K,V;g.parameters={...g.parameters,docs:{...(U=g.parameters)==null?void 0:U.docs,source:{originalSource:`() => <HoverCard>
    <HoverCardTrigger>
      <Link href="https://committed.io" target="_blank">
        Committed Website
      </Link>
    </HoverCardTrigger>
    <HoverCardContent surface="glass">
      <CardLeadIn>https://committed.io</CardLeadIn>
      <CardHeading asChild>
        <h3>Committed Software</h3>
      </CardHeading>
      <CardContent>
        <Text>
          Bespoke software company specializing in integrating the best of breed
          open source technologies to allow rapid development and minimal
          duplication of effort.
        </Text>
      </CardContent>
    </HoverCardContent>
  </HoverCard>`,...(G=(z=g.parameters)==null?void 0:z.docs)==null?void 0:G.source},description:{story:"The HoverCard surface can be specified.",...(V=(K=g.parameters)==null?void 0:K.docs)==null?void 0:V.description}}};const lr=["Default","Sticky","Surface"];export{_ as Default,v as Sticky,g as Surface,lr as __namedExportsOrder,dr as default};
//# sourceMappingURL=HoverCard.stories-98df924b.js.map
