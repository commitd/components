import{r as o}from"./index-76fb7be0.js";import{a as x,j as re}from"./jsx-runtime-03b4ddbf.js";import{$ as se,a as D,c as F,b as _e,s as ae,f as ce,d as Oe}from"./component-92c13614.js";import{_ as h}from"./extends-98964cd2.js";import{r as Re}from"./index-add592e3.js";import{$ as Ae,a as C}from"./index-45a327ec.js";import{$ as Ie}from"./index-7896d420.js";import{a as De,b as X,$ as Fe}from"./index-421204d3.js";import{a as Ne,b as Le}from"./index-296a96c6.js";import{$ as Me}from"./index-251d008c.js";import{$ as ke}from"./index-c6da0816.js";import{$ as N,a as je}from"./index-77dbc890.js";import{a as ie}from"./index-207695d4.js";import{I as Ve}from"./Button-23e6de97.js";import{C as Ke}from"./Icons-43292f8c.js";const le="ToastProvider",[Q,We,He]=Ie("Toast"),[de,to]=De("Toast",[He]),[Xe,U]=de(le),ue=e=>{const{__scopeToast:n,label:r="Notification",duration:t=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:d}=e,[u,p]=o.useState(null),[a,$]=o.useState(0),E=o.useRef(!1),L=o.useRef(!1);return o.createElement(Q.Provider,{scope:n},o.createElement(Xe,{scope:n,label:r,duration:t,swipeDirection:s,swipeThreshold:i,toastCount:a,viewport:u,onViewportChange:p,onToastAdd:o.useCallback(()=>$(_=>_+1),[]),onToastRemove:o.useCallback(()=>$(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:L},d))};ue.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const n=`Invalid prop \`label\` supplied to \`${le}\`. Expected non-empty \`string\`.`;return new Error(n)}return null}};const Ue="ToastViewport",Ye=["F8"],G="toast.viewportPause",J="toast.viewportResume",ze=o.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:t=Ye,label:s="Notifications ({hotkey})",...i}=e,d=U(Ue,r),u=We(r),p=o.useRef(null),a=o.useRef(null),$=o.useRef(null),E=o.useRef(null),L=se(n,E,d.onViewportChange),_=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=d.toastCount>0;o.useEffect(()=>{const l=y=>{var b;t.every(T=>y[T]||y.code===T)&&((b=E.current)===null||b===void 0||b.focus())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[t]),o.useEffect(()=>{const l=p.current,y=E.current;if(O&&l&&y){const b=()=>{if(!d.isClosePausedRef.current){const w=new CustomEvent(G);y.dispatchEvent(w),d.isClosePausedRef.current=!0}},m=()=>{if(d.isClosePausedRef.current){const w=new CustomEvent(J);y.dispatchEvent(w),d.isClosePausedRef.current=!1}},T=w=>{!l.contains(w.relatedTarget)&&m()},v=()=>{l.contains(document.activeElement)||m()};return l.addEventListener("focusin",b),l.addEventListener("focusout",T),l.addEventListener("pointermove",b),l.addEventListener("pointerleave",v),window.addEventListener("blur",b),window.addEventListener("focus",m),()=>{l.removeEventListener("focusin",b),l.removeEventListener("focusout",T),l.removeEventListener("pointermove",b),l.removeEventListener("pointerleave",v),window.removeEventListener("blur",b),window.removeEventListener("focus",m)}}},[O,d.isClosePausedRef]);const f=o.useCallback(({tabbingDirection:l})=>{const b=u().map(m=>{const T=m.ref.current,v=[T,...lt(T)];return l==="forwards"?v:v.reverse()});return(l==="forwards"?b.reverse():b).flat()},[u]);return o.useEffect(()=>{const l=E.current;if(l){const y=b=>{const m=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!m){const M=document.activeElement,A=b.shiftKey;if(b.target===l&&A){var v;(v=a.current)===null||v===void 0||v.focus();return}const R=f({tabbingDirection:A?"backwards":"forwards"}),V=R.findIndex(c=>c===M);if(q(R.slice(V+1)))b.preventDefault();else{var w,P;A?(w=a.current)===null||w===void 0||w.focus():(P=$.current)===null||P===void 0||P.focus()}}};return l.addEventListener("keydown",y),()=>l.removeEventListener("keydown",y)}},[u,f]),o.createElement(Ne,{ref:p,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:O?void 0:"none"}},O&&o.createElement(oe,{ref:a,onFocusFromOutsideViewport:()=>{const l=f({tabbingDirection:"forwards"});q(l)}}),o.createElement(Q.Slot,{scope:r},o.createElement(N.ol,h({tabIndex:-1},i,{ref:L}))),O&&o.createElement(oe,{ref:$,onFocusFromOutsideViewport:()=>{const l=f({tabbingDirection:"backwards"});q(l)}}))}),Be="ToastFocusProxy",oe=o.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:t,...s}=e,i=U(Be,r);return o.createElement(ie,h({"aria-hidden":!0,tabIndex:0},s,{ref:n,style:{position:"fixed"},onFocus:d=>{var u;const p=d.relatedTarget;!((u=i.viewport)!==null&&u!==void 0&&u.contains(p))&&t()}}))}),Y="Toast",qe="toast.swipeStart",Ge="toast.swipeMove",Je="toast.swipeCancel",Qe="toast.swipeEnd",Ze=o.forwardRef((e,n)=>{const{forceMount:r,open:t,defaultOpen:s,onOpenChange:i,...d}=e,[u=!0,p]=Ae({prop:t,defaultProp:s,onChange:i});return o.createElement(ke,{present:r||u},o.createElement(pe,h({open:u},d,{ref:n,onClose:()=>p(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:C(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,a=>{const{x:$,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${$}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:C(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,a=>{const{x:$,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${$}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),p(!1)})})))}),[et,tt]=de(Y,{onClose(){}}),pe=o.forwardRef((e,n)=>{const{__scopeToast:r,type:t="foreground",duration:s,open:i,onClose:d,onEscapeKeyDown:u,onPause:p,onResume:a,onSwipeStart:$,onSwipeMove:E,onSwipeCancel:L,onSwipeEnd:_,...O}=e,f=U(Y,r),[l,y]=o.useState(null),b=se(n,c=>y(c)),m=o.useRef(null),T=o.useRef(null),v=s||f.duration,w=o.useRef(0),P=o.useRef(v),M=o.useRef(0),{onToastAdd:A,onToastRemove:z}=f,I=X(()=>{var c;(l==null?void 0:l.contains(document.activeElement))&&((c=f.viewport)===null||c===void 0||c.focus()),d()}),R=o.useCallback(c=>{!c||c===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(I,c))},[I]);o.useEffect(()=>{const c=f.viewport;if(c){const g=()=>{R(P.current),a==null||a()},S=()=>{const k=new Date().getTime()-w.current;P.current=P.current-k,window.clearTimeout(M.current),p==null||p()};return c.addEventListener(G,S),c.addEventListener(J,g),()=>{c.removeEventListener(G,S),c.removeEventListener(J,g)}}},[f.viewport,v,p,a,R]),o.useEffect(()=>{i&&!f.isClosePausedRef.current&&R(v)},[i,v,f.isClosePausedRef,R]),o.useEffect(()=>(A(),()=>z()),[A,z]);const V=o.useMemo(()=>l?$e(l):null,[l]);return f.viewport?o.createElement(o.Fragment,null,V&&o.createElement(ot,{__scopeToast:r,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0},V),o.createElement(et,{scope:r,onClose:I},Re.createPortal(o.createElement(Q.ItemSlot,{scope:r},o.createElement(Le,{asChild:!0,onEscapeKeyDown:C(u,()=>{f.isFocusedToastEscapeKeyDownRef.current||I(),f.isFocusedToastEscapeKeyDownRef.current=!1})},o.createElement(N.li,h({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":f.swipeDirection},O,{ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,c=>{c.key==="Escape"&&(u==null||u(c.nativeEvent),c.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:C(e.onPointerDown,c=>{c.button===0&&(m.current={x:c.clientX,y:c.clientY})}),onPointerMove:C(e.onPointerMove,c=>{if(!m.current)return;const g=c.clientX-m.current.x,S=c.clientY-m.current.y,k=!!T.current,j=["left","right"].includes(f.swipeDirection),K=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,Pe=j?K(0,g):0,Se=j?0:K(0,S),B=c.pointerType==="touch"?10:2,W={x:Pe,y:Se},te={originalEvent:c,delta:W};k?(T.current=W,H(Ge,E,te,{discrete:!1})):ne(W,f.swipeDirection,B)?(T.current=W,H(qe,$,te,{discrete:!1}),c.target.setPointerCapture(c.pointerId)):(Math.abs(g)>B||Math.abs(S)>B)&&(m.current=null)}),onPointerUp:C(e.onPointerUp,c=>{const g=T.current,S=c.target;if(S.hasPointerCapture(c.pointerId)&&S.releasePointerCapture(c.pointerId),T.current=null,m.current=null,g){const k=c.currentTarget,j={originalEvent:c,delta:g};ne(g,f.swipeDirection,f.swipeThreshold)?H(Qe,_,j,{discrete:!0}):H(Je,L,j,{discrete:!0}),k.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})))),f.viewport))):null});pe.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const n=`Invalid prop \`type\` supplied to \`${Y}\`. Expected \`foreground | background\`.`;return new Error(n)}return null}};const ot=e=>{const{__scopeToast:n,children:r,...t}=e,s=U(Y,n),[i,d]=o.useState(!1),[u,p]=o.useState(!1);return ct(()=>d(!0)),o.useEffect(()=>{const a=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(a)},[]),u?null:o.createElement(Me,{asChild:!0},o.createElement(ie,t,i&&o.createElement(o.Fragment,null,s.label," ",r)))},nt=o.forwardRef((e,n)=>{const{__scopeToast:r,...t}=e;return o.createElement(N.div,h({},t,{ref:n}))}),rt=o.forwardRef((e,n)=>{const{__scopeToast:r,...t}=e;return o.createElement(N.div,h({},t,{ref:n}))}),st="ToastAction",fe=o.forwardRef((e,n)=>{const{altText:r,...t}=e;return r?o.createElement(me,{altText:r,asChild:!0},o.createElement(be,h({},t,{ref:n}))):null});fe.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${st}\``)}};const at="ToastClose",be=o.forwardRef((e,n)=>{const{__scopeToast:r,...t}=e,s=tt(at,r);return o.createElement(me,{asChild:!0},o.createElement(N.button,h({type:"button"},t,{ref:n,onClick:C(e.onClick,s.onClose)})))}),me=o.forwardRef((e,n)=>{const{__scopeToast:r,altText:t,...s}=e;return o.createElement(N.div,h({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0},s,{ref:n}))});function $e(e){const n=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&n.push(t.textContent),it(t)){const s=t.ariaHidden||t.hidden||t.style.display==="none",i=t.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const d=t.dataset.radixToastAnnounceAlt;d&&n.push(d)}else n.push(...$e(t))}}),n}function H(e,n,r,{discrete:t}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),t?je(s,i):s.dispatchEvent(i)}const ne=(e,n,r=0)=>{const t=Math.abs(e.x),s=Math.abs(e.y),i=t>s;return n==="left"||n==="right"?i&&t>r:!i&&s>r};function ct(e=()=>{}){const n=X(e);Fe(()=>{let r=0,t=0;return r=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(t)}},[n])}function it(e){return e.nodeType===e.ELEMENT_NODE}function lt(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const s=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||s?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function q(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}const dt=ue,ut=ze,pt=Ze,ft=nt,bt=rt,mt=fe,$t=be;var Te=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const Tt="c-toast",vt="c-toast-viewport",wt="c-toast-title",Et="c-toast-description",yt="c-toast-close",xt="c-toast-action",gt=D(ut,vt,F({position:"fixed",bottom:0,right:0,display:"flex",flexDirection:"column",padding:"$5",gap:"$3",width:"$13",listStyle:"none",zIndex:"$toast"})),ve=D(ft,wt,F({gridArea:"title",marginBottom:"$2",color:"inherit",fontSize:"$1"})),we=D(bt,Et,F({gridArea:"description",margin:0,color:"inherit",fontSize:"$-1"})),Ee=_e({variants:{severity:{default:{colorPalette:"$neutral"},warn:{colorPalette:"$warn"},info:{colorPalette:"$info"},success:{colorPalette:"$success"},error:{colorPalette:"$error"}}}}),ye=ae(D(pt,"c-toast",F({border:"1px solid",borderRadius:"$default",boxShadow:"$3",padding:"$4",display:"grid",gridTemplateAreas:'"title close" "description action"',gridTemplateColumns:"auto max-content",columnGap:"$4",alignItems:"center",borderColor:"colorPalette.border",color:"colorPalette.text.low",backgroundColor:"colorPalette.outline",_motionReduce:{transition:"none"},_motionSafe:{'&[data-state="open"]':{animation:"slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)"},'&[data-state="closed"]':{animation:"hide 100ms ease-in forwards"},'&[data-swipe="move"]':{transform:"translateX(var(--radix-toast-swipe-move-x))"},'&[data-swipe="cancel"]':{transform:"translateX(0)",transition:"transform 200ms ease-out"},'&[data-swipe="end"]':{animation:"swipeOut 100ms ease-out forwards"}}})),Ee),xe=D($t,yt,F({gridArea:"close",marginRight:"-$4",marginTop:"-$6"})),ge=D(mt,xt,F({gridArea:"action"})),Ct=ae(Ve,Ee),ht=ce((e,n)=>{var{severity:r="default"}=e,t=Te(e,["severity"]);return x(xe,Object.assign({},t,{ref:n,"aria-label":"Close",asChild:!0,children:x(Ct,{severity:r,size:"$5",variant:"text",children:x(Ke,{})})}))}),Pt=ce((e,n)=>{var{title:r,description:t,altText:s="",close:i,severity:d="default",className:u,children:p}=e,a=Te(e,["title","description","altText","close","severity","className","children"]);return re(ye,Object.assign({className:Oe(Tt,u),severity:d},a,{ref:n,children:[r&&x(ve,{children:r}),t&&x(we,{children:t}),i&&x(ht,{severity:d}),p&&x(ge,{asChild:!0,altText:s,children:p})]}))}),St=dt,_t=gt,Ot=ye,Rt=ve,At=we,It=ge,Dt=xe;St.displayName="ToastProvider";_t.displayName="ToastViewport";Ot.displayName="ToastRoot";Rt.displayName="ToastTitle";At.displayName="ToastDescription";It.displayName="ToastAction";Dt.displayName="ToastCloseRoot";var Z=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const Ft=e=>{var{id:n,onRemove:r,onClose:t,actions:s}=e,i=Z(e,["id","onRemove","onClose","actions"]);const d=o.useCallback(u=>{u||(r(n),t==null||t())},[n,r,t]);return x(Pt,Object.assign({},i,{onOpenChange:d,children:s}))},Nt=({toasts:e,onRemove:n})=>{const r=Array.from(e.values()).sort((t,s)=>t.timestamp-s.timestamp).map(t=>{var{id:s}=t,i=Z(t,["id"]);return o.createElement(Ft,Object.assign({},i,{key:s,id:s,onRemove:n}))});return x("div",{id:"toaster",children:r})},Ce=0,he=1,Lt={toasts:new Map};let Mt=0;const ee=o.createContext(null),kt=(e,n)=>{var r;const{type:t,payload:s}=n;switch(t){case Ce:{const i=(r=s.id)!==null&&r!==void 0?r:`${Mt++}`,d=new Map(e.toasts),u=d.get(i),p=!!u;let a=new Date().getMilliseconds();p&&(a=u.timestamp);let $=s.duration;return $===null&&($=Number.POSITIVE_INFINITY),d.set(i,Object.assign(Object.assign({},s),{id:i,duration:$,timestamp:a})),Object.assign(Object.assign({},e),{toasts:d})}case he:{const i=new Map(e.toasts);return i.delete(s),Object.assign(Object.assign({},e),{toasts:i})}default:return e}},jt=({children:e,severity:n,duration:r,close:t})=>{const[{toasts:s},i]=o.useReducer(kt,Lt),d=o.useCallback(a=>i({type:Ce,payload:Object.assign({severity:n,duration:r,close:t},a)}),[n,r,t]),u=o.useCallback(a=>i({type:he,payload:a}),[]),p=o.useMemo(()=>({addToast:d}),[d]);return re(ee.Provider,{value:p,children:[e,x(Nt,{toasts:s,onRemove:u})]})},oo=e=>{var{children:n}=e,r=Z(e,["children"]);return o.useContext(ee)!==null?x(o.Fragment,{children:n}):x(jt,Object.assign({},r,{children:n}))},no=()=>{const e=o.useContext(ee);if(!e)throw new Error("useToast must be used within a ToasterProvider");return e};export{Pt as T,It as a,At as b,St as c,Rt as d,_t as e,Ot as f,oo as g,no as u};
//# sourceMappingURL=Toaster-23f47ad1.js.map
