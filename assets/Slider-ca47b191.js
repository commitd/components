import{a as _,j as O}from"./jsx-runtime-03b4ddbf.js";import{$ as k,a as B,c as Y,s as G,b as ge,f as ee,d as xe}from"./component-92c13614.js";import{y as we,N as ye}from"./hooks.esm-cc7a556e.js";import{$ as Ee,e as _e,f as Pe,P as Re,c as Ce}from"./Popover-7d7d988f.js";import{_ as P}from"./extends-98964cd2.js";import{r as i}from"./index-76fb7be0.js";import{$ as te}from"./index-6a2b73ba.js";import{$ as ne,a as A}from"./index-45a327ec.js";import{a as De,b as Me}from"./index-421204d3.js";import{$ as Ae}from"./index-c6b1b4f9.js";import{$ as ke}from"./index-11a3acc1.js";import{$ as Ie}from"./index-1a2315aa.js";import{$ as N}from"./index-77dbc890.js";import{$ as Ke}from"./index-7896d420.js";import{t as Te,b as Ve}from"./Tooltip-53dd1a2c.js";import{a as Le,L as Oe}from"./Label-bb409e96.js";import{C as oe}from"./ConditionalWrapper-8865b2c1.js";const re=["PageUp","PageDown"],ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ie={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},V="Slider",[U,Be,Ne]=Ke(V),[se,Tt]=De(V,[Ne]),[ze,z]=se(V),He=i.forwardRef((e,t)=>{const{name:o,min:n=0,max:a=100,step:r=1,orientation:c="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[n],value:b,onValueChange:s=()=>{},onValueCommit:d=()=>{},inverted:g=!1,...h}=e,[p,S]=i.useState(null),x=k(t,$=>S($)),E=i.useRef(new Set),f=i.useRef(0),w=c==="horizontal",R=p?!!p.closest("form"):!0,I=w?je:Fe,[v=[],H]=ne({prop:b,defaultProp:m,onChange:$=>{var y;(y=[...E.current][f.current])===null||y===void 0||y.focus(),s($)}}),C=i.useRef(v);function j($){const y=Ze(v,$);K($,y)}function he($){K($,f.current)}function ve(){const $=C.current[f.current];v[f.current]!==$&&d(v)}function K($,y,{commit:L}={commit:!1}){const q=ot(r),F=rt(Math.round(($-n)/r)*r+n,q),T=te(F,[n,a]);H((M=[])=>{const D=Je(M,T,y);if(nt(D,u*r)){f.current=D.indexOf(T);const J=String(D)!==String(M);return J&&L&&d(D),J?D:M}else return M})}return i.createElement(ze,{scope:e.__scopeSlider,disabled:l,min:n,max:a,valueIndexToChangeRef:f,thumbs:E.current,values:v,orientation:c},i.createElement(U.Provider,{scope:e.__scopeSlider},i.createElement(U.Slot,{scope:e.__scopeSlider},i.createElement(I,P({"aria-disabled":l,"data-disabled":l?"":void 0},h,{ref:x,onPointerDown:A(h.onPointerDown,()=>{l||(C.current=v)}),min:n,max:a,inverted:g,onSlideStart:l?void 0:j,onSlideMove:l?void 0:he,onSlideEnd:l?void 0:ve,onHomeKeyDown:()=>!l&&K(n,0,{commit:!0}),onEndKeyDown:()=>!l&&K(a,v.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:y})=>{if(!l){const F=re.includes($.key)||$.shiftKey&&ae.includes($.key)?10:1,T=f.current,M=v[T],D=r*F*y;K(M+D,T,{commit:!0})}}})))),R&&v.map(($,y)=>i.createElement(qe,{key:y,name:o?o+(v.length>1?"[]":""):void 0,value:$})))}),[le,ce]=se(V,{startEdge:"left",endEdge:"right",size:"width",direction:1}),je=i.forwardRef((e,t)=>{const{min:o,max:n,dir:a,inverted:r,onSlideStart:c,onSlideMove:l,onSlideEnd:u,onStepKeyDown:m,...b}=e,[s,d]=i.useState(null),g=k(t,f=>d(f)),h=i.useRef(),p=Ae(a),S=p==="ltr",x=S&&!r||!S&&r;function E(f){const w=h.current||s.getBoundingClientRect(),R=[0,w.width],v=W(R,x?[o,n]:[n,o]);return h.current=w,v(f-w.left)}return i.createElement(le,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width"},i.createElement(de,P({dir:p,"data-orientation":"horizontal"},b,{ref:g,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const w=E(f.clientX);c==null||c(w)},onSlideMove:f=>{const w=E(f.clientX);l==null||l(w)},onSlideEnd:()=>{h.current=void 0,u==null||u()},onStepKeyDown:f=>{const R=ie[x?"from-left":"from-right"].includes(f.key);m==null||m({event:f,direction:R?-1:1})}})))}),Fe=i.forwardRef((e,t)=>{const{min:o,max:n,inverted:a,onSlideStart:r,onSlideMove:c,onSlideEnd:l,onStepKeyDown:u,...m}=e,b=i.useRef(null),s=k(t,b),d=i.useRef(),g=!a;function h(p){const S=d.current||b.current.getBoundingClientRect(),x=[0,S.height],f=W(x,g?[n,o]:[o,n]);return d.current=S,f(p-S.top)}return i.createElement(le,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1},i.createElement(de,P({"data-orientation":"vertical"},m,{ref:s,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const S=h(p.clientY);r==null||r(S)},onSlideMove:p=>{const S=h(p.clientY);c==null||c(S)},onSlideEnd:()=>{d.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=ie[g?"from-bottom":"from-top"].includes(p.key);u==null||u({event:p,direction:x?-1:1})}})))}),de=i.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:n,onSlideMove:a,onSlideEnd:r,onHomeKeyDown:c,onEndKeyDown:l,onStepKeyDown:u,...m}=e,b=z(V,o);return i.createElement(N.span,P({},m,{ref:t,onKeyDown:A(e.onKeyDown,s=>{s.key==="Home"?(c(s),s.preventDefault()):s.key==="End"?(l(s),s.preventDefault()):re.concat(ae).includes(s.key)&&(u(s),s.preventDefault())}),onPointerDown:A(e.onPointerDown,s=>{const d=s.target;d.setPointerCapture(s.pointerId),s.preventDefault(),b.thumbs.has(d)?d.focus():n(s)}),onPointerMove:A(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&a(s)}),onPointerUp:A(e.onPointerUp,s=>{const d=s.target;d.hasPointerCapture(s.pointerId)&&(d.releasePointerCapture(s.pointerId),r(s))})}))}),Ue="SliderTrack",Ye=i.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,a=z(Ue,o);return i.createElement(N.span,P({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},n,{ref:t}))}),Q="SliderRange",Ge=i.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,a=z(Q,o),r=ce(Q,o),c=i.useRef(null),l=k(t,c),u=a.values.length,m=a.values.map(d=>fe(d,a.min,a.max)),b=u>1?Math.min(...m):0,s=100-Math.max(...m);return i.createElement(N.span,P({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},n,{ref:l,style:{...e.style,[r.startEdge]:b+"%",[r.endEdge]:s+"%"}}))}),Z="SliderThumb",We=i.forwardRef((e,t)=>{const o=Be(e.__scopeSlider),[n,a]=i.useState(null),r=k(t,l=>a(l)),c=i.useMemo(()=>n?o().findIndex(l=>l.ref.current===n):-1,[o,n]);return i.createElement(Xe,P({},e,{ref:r,index:c}))}),Xe=i.forwardRef((e,t)=>{const{__scopeSlider:o,index:n,...a}=e,r=z(Z,o),c=ce(Z,o),[l,u]=i.useState(null),m=k(t,S=>u(S)),b=Ie(l),s=r.values[n],d=s===void 0?0:fe(s,r.min,r.max),g=Qe(n,r.values.length),h=b==null?void 0:b[c.size],p=h?et(h,d,c.direction):0;return i.useEffect(()=>{if(l)return r.thumbs.add(l),()=>{r.thumbs.delete(l)}},[l,r.thumbs]),i.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${d}% + ${p}px)`}},i.createElement(U.ItemSlot,{scope:e.__scopeSlider},i.createElement(N.span,P({role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":r.min,"aria-valuenow":s,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0},a,{ref:m,style:s===void 0?{display:"none"}:e.style,onFocus:A(e.onFocus,()=>{r.valueIndexToChangeRef.current=n})}))))}),qe=e=>{const{value:t,...o}=e,n=i.useRef(null),a=ke(t);return i.useEffect(()=>{const r=n.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&u){const m=new Event("input",{bubbles:!0});u.call(r,t),r.dispatchEvent(m)}},[a,t]),i.createElement("input",P({style:{display:"none"}},o,{ref:n,defaultValue:t}))};function Je(e=[],t,o){const n=[...e];return n[o]=t,n.sort((a,r)=>a-r)}function fe(e,t,o){const r=100/(o-t)*(e-t);return te(r,[0,100])}function Qe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ze(e,t){if(e.length===1)return 0;const o=e.map(a=>Math.abs(a-t)),n=Math.min(...o);return o.indexOf(n)}function et(e,t,o){const n=e/2,r=W([0,50],[0,n]);return(n-r(t)*o)*o}function tt(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function nt(e,t){if(t>0){const o=tt(e);return Math.min(...o)>=t}return!0}function W(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(o-e[0])}}function ot(e){return(String(e).split(".")[1]||"").length}function rt(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}const at=He,it=Ye,st=Ge,lt=We;var X=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const ct="c-slider",dt="c-slider-track",ft="c-slider-range",ut="c-slider-thumb",ue=B(it,dt,Y({position:"relative",flexGrow:1,borderRadius:"$default",backgroundColor:"$neutral.4",_horizontal:{height:"$1"},_vertical:{width:"$1",height:"100px"},_groupHover:{backgroundColor:"$neutral.5"}}));ue.displayName="SliderTrack";const me=B(st,ft,Y({position:"absolute",background:"var(--range-default)",borderRadius:"inherit",_horizontal:{height:"100%"},_vertical:{width:"100%"},_groupHover:{backgroundColor:"var(--range-hover)"}}));me.displayName="SliderRange";const pe=G(B(lt,ut,Y({position:"relative",display:"block",size:"$4",outline:"none",boxShadow:"$1",borderRadius:"$round",_after:{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:-2,backgroundColor:"var(--thumb-background)",transform:"scale(1)",borderRadius:"$round",_motionReduce:{transition:"none"},_motionSafe:{transition:"transform 200ms cubic-bezier(0.22, 1, 0.36, 1)"}},_focus:{_after:{transform:"scale(2)"}},_disabled:{backgroundColor:"$neutral.5"}})));pe.displayName="Thumb";const mt=ge({base:{"--range-default":"token(colors.colorPalette.9)","--range-hover":"token(colors.colorPalette.10)","--thumb-background":"token(colors.colorPalette.3.a)",colorPalette:"$neutral",position:"relative",display:"flex",alignItems:"center",flexShrink:0,userSelect:"none",touchAction:"none",height:"15px",flexGrow:1,_vertical:{flexDirection:"column",width:"15px"}}}),pt=G(at,mt),$t=G(Ee,Te),bt=B(Pe,Ve),$e=ee((e,t)=>{var{portalled:o=!0,container:n,children:a}=e,r=X(e,["portalled","container","children"]);return _(oe,{condition:o,props:{container:n},wrapper:_e,children:O($t,Object.assign({},r,{ref:t,children:[_(bt,{offset:-1}),a]}))})});$e.displayName="ThumbPopoverContent";const be=e=>{var{value:t,showLabel:o,labelSide:n,portalled:a=!0}=e,r=X(e,["value","showLabel","labelSide","portalled"]);return O(Re,{open:o,children:[_(Ce,{children:_(pe,Object.assign({},r))}),_($e,{side:n,portalled:a,children:t})]})};be.displayName="SliderThumb";const Se=({id:e,label:t,children:o})=>O(Oe,{id:`label-${e}`,variant:"wrapping",children:[t,o]});Se.displayName="SliderLabel";const St=ee((e,t)=>{var{min:o=0,value:n,defaultValue:a=[o],onValueChange:r,labelStyle:c="hover",labelSide:l="top",labelFunction:u=C=>C,portalled:m=!0,surface:b="solid",css:s,label:d,className:g}=e,h=X(e,["min","value","defaultValue","onValueChange","labelStyle","labelSide","labelFunction","portalled","surface","css","label","className"]);const[p,{disabled:S},x]=Le(h),[E=[],f]=ne({prop:n,defaultProp:a,onChange:r}),w=Me(C=>u(C)),R=i.useRef(null),[I]=we(R),v=ye(R,t),H=i.useMemo(()=>c=="always"?!0:c=="none"?!1:I,[I,c]);return _(oe,{condition:d,props:{id:p,label:d},wrapper:Se,children:O(pt,Object.assign({},x,{id:p,css:s,disabled:S,min:o,value:E,onValueChange:f,className:xe(ct,"group",g),ref:v,children:[_(ue,{children:_(me,{})}),E.map((C,j)=>_(be,{value:w(C),showLabel:H,surface:b,labelSide:l,portalled:m},j))]}))})});St.displayName="Slider";export{St as S};
//# sourceMappingURL=Slider-ca47b191.js.map
