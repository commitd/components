import{a as u}from"./jsx-runtime-03b4ddbf.js";import{r as i}from"./index-76fb7be0.js";import{a as F,c as C,f as D,b as E,s as S}from"./component-92c13614.js";import{D as $,F as g,u as B}from"./Label-bb409e96.js";import{T as R}from"./Text-561f173c.js";const _="div",h=F(_,"c-form-control",C({boxSizing:"border-box",outline:"none",display:"flex",flexDirection:"column"})),M=D(({children:t},e)=>{const r=i.useState($);return u(g.Provider,{value:r,children:u(h,{ref:e,children:t})})});M.displayName="FormControl";const j=E({variants:{state:{invalid:{color:"$error"},valid:{color:"$success"},disabled:{color:"$neutral"}}}}),x=S(R,j),G=({defaultText:t="",errorText:e,validText:r})=>{const{formControlId:o,error:s,valid:a,disabled:c}=B(),f=i.useRef(null);i.useEffect(()=>{if(o){const n=document.getElementById(o),m=f.current;if(m&&n){const b=`description-${o}`,p=()=>n.getAttribute("aria-describedby"),A=[b,p()].filter(Boolean).join(" ");return n.setAttribute("aria-describedby",A),m.setAttribute("id",b),()=>{var l;const d=(l=p())===null||l===void 0?void 0:l.replace(o,"");d===""?n.removeAttribute("aria-describedby"):d&&n.setAttribute("aria-describedby",d)}}}},[o]);const v=i.useMemo(()=>c?t:s?e||t:a&&r?r:t,[c,s,a,t,e,r]),y=i.useMemo(()=>{if(c)return"disabled";if(s)return e?"invalid":void 0;if(a&&r)return"valid"},[c,s,a,e,r]);return u(x,{size:"$-1",ref:f,state:y,children:v})};export{M as F,G as a};
//# sourceMappingURL=FormControl-6b9cc0be.js.map
