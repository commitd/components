import{a as b,j as M}from"./jsx-runtime-03b4ddbf.js";import{$ as _,e as k,s as j,a as O,c as R,f as V,i as C,d as E}from"./component-92c13614.js";import{_ as f}from"./extends-98964cd2.js";import{r as t}from"./index-76fb7be0.js";import{a as $,$ as G}from"./index-45a327ec.js";import{a as K}from"./index-421204d3.js";import{$ as L}from"./index-296a96c6.js";import{h as H,$ as W,a as U,b as Z}from"./index-56d74ee5.js";import{$ as q}from"./index-f8c8b8ff.js";import{$ as A,b as w,c as z,d as B,a as J}from"./index-01bbf444.js";import{$ as Q}from"./index-251d008c.js";import{$ as y}from"./index-c6da0816.js";import{$ as N}from"./index-77dbc890.js";import{p as X}from"./Paper-e773ea24.js";import{C as Y}from"./ConditionalWrapper-8865b2c1.js";const F="Popover",[D,Je]=K(F,[A]),m=A(),[ee,d]=D(F),oe=e=>{const{__scopePopover:n,children:r,open:c,defaultOpen:o,onOpenChange:a,modal:s=!1}=e,p=m(n),i=t.useRef(null),[u,P]=t.useState(!1),[h=!1,l]=G({prop:c,defaultProp:o,onChange:a});return t.createElement(J,p,t.createElement(ee,{scope:n,contentId:q(),triggerRef:i,open:h,onOpenChange:l,onOpenToggle:t.useCallback(()=>l(x=>!x),[l]),hasCustomAnchor:u,onCustomAnchorAdd:t.useCallback(()=>P(!0),[]),onCustomAnchorRemove:t.useCallback(()=>P(!1),[]),modal:s},r))},ce="PopoverAnchor",te=t.forwardRef((e,n)=>{const{__scopePopover:r,...c}=e,o=d(ce,r),a=m(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:p}=o;return t.useEffect(()=>(s(),()=>p()),[s,p]),t.createElement(w,f({},a,c,{ref:n}))}),re="PopoverTrigger",ne=t.forwardRef((e,n)=>{const{__scopePopover:r,...c}=e,o=d(re,r),a=m(r),s=_(n,o.triggerRef),p=t.createElement(N.button,f({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":I(o.open)},c,{ref:s,onClick:$(e.onClick,o.onOpenToggle)}));return o.hasCustomAnchor?p:t.createElement(w,f({asChild:!0},a),p)}),S="PopoverPortal",[ae,se]=D(S,{forceMount:void 0}),pe=e=>{const{__scopePopover:n,forceMount:r,children:c,container:o}=e,a=d(S,n);return t.createElement(ae,{scope:n,forceMount:r},t.createElement(y,{present:r||a.open},t.createElement(Q,{asChild:!0,container:o},c)))},v="PopoverContent",fe=t.forwardRef((e,n)=>{const r=se(v,e.__scopePopover),{forceMount:c=r.forceMount,...o}=e,a=d(v,e.__scopePopover);return t.createElement(y,{present:c||a.open},a.modal?t.createElement(de,f({},o,{ref:n})):t.createElement(ie,f({},o,{ref:n})))}),de=t.forwardRef((e,n)=>{const r=d(v,e.__scopePopover),c=t.useRef(null),o=_(n,c),a=t.useRef(!1);return t.useEffect(()=>{const s=c.current;if(s)return H(s)},[]),t.createElement(W,{as:k,allowPinchZoom:!0},t.createElement(T,f({},e,{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(e.onCloseAutoFocus,s=>{var p;s.preventDefault(),a.current||(p=r.triggerRef.current)===null||p===void 0||p.focus()}),onPointerDownOutside:$(e.onPointerDownOutside,s=>{const p=s.detail.originalEvent,i=p.button===0&&p.ctrlKey===!0,u=p.button===2||i;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:$(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),ie=t.forwardRef((e,n)=>{const r=d(v,e.__scopePopover),c=t.useRef(!1),o=t.useRef(!1);return t.createElement(T,f({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,a),!a.defaultPrevented){var p;c.current||(p=r.triggerRef.current)===null||p===void 0||p.focus(),a.preventDefault()}c.current=!1,o.current=!1},onInteractOutside:a=>{var s,p;(s=e.onInteractOutside)===null||s===void 0||s.call(e,a),a.defaultPrevented||(c.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((p=r.triggerRef.current)===null||p===void 0?void 0:p.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}}))}),T=t.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:c,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:p,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:P,...h}=e,l=d(v,r),x=m(r);return U(),t.createElement(Z,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:o,onUnmountAutoFocus:a},t.createElement(L,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:P,onEscapeKeyDown:p,onPointerDownOutside:i,onFocusOutside:u,onDismiss:()=>l.onOpenChange(!1)},t.createElement(z,f({"data-state":I(l.open),role:"dialog",id:l.contentId},x,h,{ref:n,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),le="PopoverClose",ue=t.forwardRef((e,n)=>{const{__scopePopover:r,...c}=e,o=d(le,r);return t.createElement(N.button,f({type:"button"},c,{ref:n,onClick:$(e.onClick,()=>o.onOpenChange(!1))}))}),$e=t.forwardRef((e,n)=>{const{__scopePopover:r,...c}=e,o=m(r);return t.createElement(B,f({},o,c,{ref:n}))});function I(e){return e?"open":"closed"}const be=oe,ve=te,me=ne,Pe=pe,he=fe,ge=ue,xe=$e;var g=globalThis&&globalThis.__rest||function(e,n){var r={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&n.indexOf(c)<0&&(r[c]=e[c]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,c=Object.getOwnPropertySymbols(e);o<c.length;o++)n.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(r[c[o]]=e[c[o]]);return r};const Oe="c-popover",Ce="c-popover-content",Ee="c-popover-arrow",_e="c-popover-trigger",Re="c-popover-anchor",Ae="c-popover-close",we=j(O(he,Ce,X,R({borderRadius:"$default",padding:"$4",display:"flex",flexDirection:"column",gap:"$2",_before:{boxShadow:"none"},filter:"drop-shadow(0px 3px 2.5px rgba(0,0,0,0.2)) drop-shadow(0px 6px 5px rgba(0,0,0,0.14)) drop-shadow(0px 1px 9px rgba(0,0,0,0.12))"}))),ye=O(xe,Ee,R({fill:"$surface.solid"})),Ne=V((e,n)=>{var{portalled:r=!0,surface:c="solid",container:o,children:a}=e,s=g(e,["portalled","surface","container","children"]);return b(Y,{condition:r,props:{container:o},wrapper:Pe,children:M(we,Object.assign({surface:c},s,{ref:n,children:[b(ye,{offset:-1}),a]}))})});Ne.displayName="PopoverContent";const Fe=C((e,n)=>{var{className:r,children:c}=e,o=g(e,["className","children"]);return b(me,Object.assign({className:E(_e,r),asChild:!0},o,{ref:n,children:c}))});Fe.displayName="PopoverTrigger";const De=C((e,n)=>{var{className:r,children:c}=e,o=g(e,["className","children"]);return b(ve,Object.assign({className:E(Re,r),asChild:!0},o,{ref:n,children:c}))});De.displayName="PopoverAnchor";const Se=C((e,n)=>{var{className:r,children:c}=e,o=g(e,["className","children"]);return b(ge,Object.assign({asChild:!0,className:E(Ae,r)},o,{ref:n,children:c}))});Se.displayName="PopoverClose";const Te=O(be,Oe);Te.displayName="Popover";export{he as $,Te as P,Fe as a,Ne as b,De as c,Se as d,Pe as e,xe as f};
//# sourceMappingURL=Popover-7d7d988f.js.map
