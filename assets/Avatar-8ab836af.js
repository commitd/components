import{j as v,a as g}from"./jsx-runtime-03b4ddbf.js";import{b as l,s as f,f as x}from"./component-92c13614.js";import{_ as $}from"./extends-98964cd2.js";import{r as n}from"./index-76fb7be0.js";import{a as A,b as h,$ as S}from"./index-421204d3.js";import{$ as b}from"./index-77dbc890.js";const m="Avatar",[w,H]=A(m),[y,p]=w(m),_=n.forwardRef((t,o)=>{const{__scopeAvatar:r,...e}=t,[a,c]=n.useState("idle");return n.createElement(y,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:c},n.createElement(b.span,$({},e,{ref:o})))}),C="AvatarImage",L=n.forwardRef((t,o)=>{const{__scopeAvatar:r,src:e,onLoadingStatusChange:a=()=>{},...c}=t,d=p(C,r),s=j(e),i=h(u=>{a(u),d.onImageLoadingStatusChange(u)});return S(()=>{s!=="idle"&&i(s)},[s,i]),s==="loaded"?n.createElement(b.img,$({},c,{ref:o,src:e})):null}),E="AvatarFallback",I=n.forwardRef((t,o)=>{const{__scopeAvatar:r,delayMs:e,...a}=t,c=p(E,r),[d,s]=n.useState(e===void 0);return n.useEffect(()=>{if(e!==void 0){const i=window.setTimeout(()=>s(!0),e);return()=>window.clearTimeout(i)}},[e]),d&&c.imageLoadingStatus!=="loaded"?n.createElement(b.span,$({},a,{ref:o})):null});function j(t){const[o,r]=n.useState("idle");return n.useEffect(()=>{if(!t){r("error");return}let e=!0;const a=new window.Image,c=d=>()=>{e&&r(d)};return r("loading"),a.onload=c("loaded"),a.onerror=c("error"),a.src=t,()=>{e=!1}},[t]),o}const O=_,R=L,M=I;var P=globalThis&&globalThis.__rest||function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)o.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(r[e[a]]=t[e[a]]);return r};const k=l({base:{display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",overflow:"hidden",userSelect:"none",borderRadius:"$round"},variants:{size:{small:{h:"$5",w:"$5"},medium:{h:"$7",w:"$7"},large:{h:"$9",w:"$9"}}},defaultVariants:{size:"medium"}}),T=f(O,k),F=f(R,l({base:{width:"100%",height:"100%",objectFit:"cover"}})),N=f(M,l({base:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),z=x((t,o)=>{var{src:r,backgroundColor:e="$neutral.5",color:a="$text",alt:c="Avatar",children:d}=t,s=P(t,["src","backgroundColor","color","alt","children"]);return v(T,Object.assign({},s,{ref:o,children:[g(F,{alt:c,src:r}),g(N,{backgroundColor:e,color:a,children:d})]}))});z.displayName="Avatar";export{z as A};
//# sourceMappingURL=Avatar-8ab836af.js.map
